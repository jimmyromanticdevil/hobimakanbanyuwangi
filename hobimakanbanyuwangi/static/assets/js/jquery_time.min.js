$(function() {
    $('body').scrollTop(0);
});
$(document).ready(function() {

    $(".btn-act-search").on('click', function() {
        $(".btn-act-search").removeClass("active");
        var orderby = $(this).text();
        var keyword = $(this).attr('keyword');
        var url = "/search/keyword?q="+keyword+"&orderby="+orderby;
         window.location = url;
        
    });
    $(".btn-act").on('click', function() {
        $(".btn-act").removeClass("active");
        var url = $(this).text();
        if (url!='terbaru'){
           window.location = "/"+url;
        } else {
           window.location = "/";
            
        }
    });
    $("#historyBtn").on('click', function() {
        $('.loadmoreajaxloader').show();
        loadItems();
    });
});

function hideAllAttr() {
    $("#hsbutn").hide();
    $('.loadmoreajaxloader').hide();
    return true;
}
var pageNum = 1;
var hasNextPage = true; 
var loadItems = function() {
    if (hasNextPage === false) {
        return false;
    }    
    $("#hsbutn").hide();
    pageNum = pageNum + 1;
    $.ajax({
        url: $(location).attr('href'),
        data: {
            page_number: pageNum
        },
        success: function(data) {
            if ($(data).text() != "" ) {
                $('.loadmoreajaxloader').hide();
                $($(data).hide().fadeIn(2000)).appendTo($(".postwrapper")); 
                hasNextPage = true;    
                $("#hsbutn").show();     
            } else {
                hasNextPage = false
                hideAllAttr()
            }
        },error: function(data) {
            hasNextPage = false
        }
    });
};

